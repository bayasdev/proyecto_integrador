(self.webpackChunkclient=self.webpackChunkclient||[]).push([[810],{6771:(M,v,o)=>{"use strict";o.r(v),o.d(v,{RequestViewerPageModule:()=>Y});var q=o(9808),U=o(5861),x=o(4327),Z=o(1816),h=o(2340),e=o(1223),g=o(7562),w=o(2290),f=o(1196),r=o(9854),s=o(5291),c=o(2382);function i(n,_){1&n&&(e.ynx(0),e._uU(1,"\n      "),e.TgZ(2,"label",33),e._UZ(3,"i",34),e._uU(4," Materias a modificar"),e.qZA(),e._uU(5,"\n    "),e.BQk())}function l(n,_){1&n&&(e._uU(0,"\n      "),e.TgZ(1,"label",33),e._UZ(2,"i",34),e._uU(3," Materias a retirar"),e.qZA(),e._uU(4,"\n    "))}function E(n,_){if(1&n&&(e.TgZ(0,"tr"),e._uU(1,"\n          "),e.TgZ(2,"th",35),e._uU(3),e.qZA(),e._uU(4,"\n          "),e.TgZ(5,"td"),e._uU(6),e.qZA(),e._uU(7,"\n          "),e.TgZ(8,"td"),e._uU(9),e.qZA(),e._uU(10,"\n        "),e.qZA()),2&n){const t=_.$implicit;e.xp6(3),e.Oqu(t.code),e.xp6(3),e.Oqu(t.name),e.xp6(3),e.Oqu(t.credits)}}function y(n,_){if(1&n&&(e.TgZ(0,"div",36),e._uU(1,"\n      "),e.TgZ(2,"div",37),e._uU(3,"\n        "),e.TgZ(4,"p"),e._UZ(5,"i",8),e._uU(6),e.qZA(),e._uU(7,"\n        "),e.TgZ(8,"div",38),e._uU(9,"\n          "),e.TgZ(10,"p",39),e._uU(11),e.qZA(),e._uU(12,"\n        "),e.qZA(),e._uU(13,"\n      "),e.qZA(),e._uU(14,"\n    "),e.qZA()),2&n){const t=e.oxw(2);e.xp6(6),e.hij(" ",t.request.student_name," (Estudiante)"),e.xp6(5),e.Oqu(t.request.parameters.student_message)}}function A(n,_){if(1&n&&(e.TgZ(0,"div",40),e._uU(1,"\n      "),e.TgZ(2,"div",37),e._uU(3,"\n        "),e.TgZ(4,"p",41),e._UZ(5,"i",8),e._uU(6," Direcci\xf3n de Contabilidad"),e.qZA(),e._uU(7,"\n        "),e.TgZ(8,"div",42),e._uU(9,"\n          "),e.TgZ(10,"p",39),e._uU(11),e.qZA(),e._uU(12,"\n        "),e.qZA(),e._uU(13,"\n      "),e.qZA(),e._uU(14,"\n    "),e.qZA()),2&n){const t=e.oxw(2);e.xp6(11),e.Oqu(t.request.parameters.accountant_message)}}function R(n,_){if(1&n&&(e.TgZ(0,"div",40),e._uU(1,"\n      "),e.TgZ(2,"div",37),e._uU(3,"\n        "),e.TgZ(4,"p",41),e._UZ(5,"i",8),e._uU(6),e.qZA(),e._uU(7,"\n        "),e.TgZ(8,"div",42),e._uU(9,"\n          "),e.TgZ(10,"p",39),e._uU(11),e.qZA(),e._uU(12,"\n        "),e.qZA(),e._uU(13,"\n      "),e.qZA(),e._uU(14,"\n    "),e.qZA()),2&n){const t=e.oxw(2);e.xp6(6),e.hij(" ",t.request.director_name," (Director de Carrera)"),e.xp6(5),e.Oqu(t.request.parameters.director_message)}}function T(n,_){if(1&n&&(e.TgZ(0,"div",40),e._uU(1,"\n      "),e.TgZ(2,"div",37),e._uU(3,"\n        "),e.TgZ(4,"p",41),e._UZ(5,"i",8),e._uU(6),e.qZA(),e._uU(7,"\n        "),e.TgZ(8,"div",42),e._uU(9,"\n          "),e.TgZ(10,"p",39),e._uU(11),e.qZA(),e._uU(12,"\n        "),e.qZA(),e._uU(13,"\n      "),e.qZA(),e._uU(14,"\n    "),e.qZA()),2&n){const t=e.oxw(2);e.xp6(6),e.hij(" ",t.request.dean_name," (Decano)"),e.xp6(5),e.Oqu(t.request.parameters.dean_message)}}function m(n,_){if(1&n){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const u=e.oxw().$implicit;return e.oxw(2).get_attachment(u.id)}),e._uU(1,"\n                "),e._UZ(2,"i",48),e._uU(3,"\n              "),e.qZA()}}const k=function(){return["image/jpeg","image/png"]};function I(n,_){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e._uU(1,"\n          "),e.TgZ(2,"th",35),e._uU(3),e.qZA(),e._uU(4,"\n          "),e.TgZ(5,"td"),e._uU(6),e.qZA(),e._uU(7,"\n          "),e.TgZ(8,"td"),e._uU(9),e.qZA(),e._uU(10,"\n          "),e.TgZ(11,"td"),e._uU(12,"\n            "),e.TgZ(13,"div",43),e._uU(14,"\n              "),e.YNc(15,m,4,0,"button",44),e._uU(16,"\n              "),e.TgZ(17,"button",45),e.NdJ("click",function(){const d=e.CHM(t).$implicit;return e.oxw(2).download_attachment(d.id)}),e._uU(18,"\n                "),e._UZ(19,"i",46),e._uU(20,"\n              "),e.qZA(),e._uU(21,"\n            "),e.qZA(),e._uU(22,"\n          "),e.qZA(),e._uU(23,"\n        "),e.qZA()}if(2&n){const t=_.$implicit,a=e.oxw(2);e.xp6(3),e.Oqu(t.file_name),e.xp6(3),e.Oqu(t.file_type),e.xp6(3),e.Oqu(a.attachment_types[t.attachment_type-1].name),e.xp6(6),e.Q6J("ngIf",e.DdM(4,k).includes(t.file_type))}}function L(n,_){if(1&n){const t=e.EpF();e.ynx(0),e._uU(1,"\n    "),e.TgZ(2,"div",2),e._uU(3,"\n      "),e.TgZ(4,"p",3),e._UZ(5,"i",49),e._uU(6," "),e.TgZ(7,"b"),e._uU(8,"Responder a esta solicitud"),e.qZA(),e.qZA(),e._uU(9,"\n      "),e.TgZ(10,"label",33),e._UZ(11,"i",50),e._uU(12," Deje un mensaje *"),e.qZA(),e._uU(13,"\n      "),e.TgZ(14,"textarea",51),e.NdJ("ngModelChange",function(u){return e.CHM(t),e.oxw(2).replyMessage=u}),e.qZA(),e._uU(15,"\n    "),e.qZA(),e._uU(16,"\n    "),e.TgZ(17,"div",2),e._uU(18,"\n      "),e.TgZ(19,"label",33),e._UZ(20,"i",52),e._uU(21," Adjunte un archivo"),e.qZA(),e._UZ(22,"br"),e._uU(23,"\n      "),e.TgZ(24,"div",53),e._uU(25,"\n        "),e._UZ(26,"i",5),e._uU(27," Tama\xf1o m\xe1ximo 10MB\n      "),e.qZA(),e._uU(28,"\n      "),e.TgZ(29,"input",54),e.NdJ("change",function(u){return e.CHM(t),e.oxw(2).file_selected(u)}),e.qZA(),e._uU(30,"\n    "),e.qZA(),e._uU(31,"\n    "),e.TgZ(32,"button",55),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).update_request(1)}),e._uU(33,"\n      "),e._UZ(34,"i",56),e._uU(35," Aprobar solicitud\n    "),e.qZA(),e._uU(36,"\n    "),e.TgZ(37,"button",57),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).update_request(2)}),e._uU(38,"\n      "),e._UZ(39,"i",58),e._uU(40," Rechazar solicitud\n    "),e.qZA(),e._uU(41,"\n  "),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(14),e.Q6J("ngModel",t.replyMessage)}}function B(n,_){if(1&n&&(e.ynx(0),e._uU(1,"\n  "),e.TgZ(2,"h1",1),e._uU(3),e.qZA(),e._uU(4,"\n  "),e.TgZ(5,"div",2),e._uU(6,"\n    "),e.TgZ(7,"p",3),e._UZ(8,"i",4),e._uU(9," "),e.TgZ(10,"b"),e._uU(11,"Tipo de solicitud:"),e.qZA(),e._uU(12),e.qZA(),e._uU(13,"\n    "),e.TgZ(14,"p",3),e._UZ(15,"i",5),e._uU(16," "),e.TgZ(17,"b"),e._uU(18,"Estado:"),e.qZA(),e._uU(19," "),e.TgZ(20,"span",6),e._uU(21),e.qZA(),e.qZA(),e._uU(22,"\n    "),e.TgZ(23,"p",3),e._UZ(24,"i",7),e._uU(25," "),e.TgZ(26,"b"),e._uU(27,"Fecha:"),e.qZA(),e._uU(28),e.qZA(),e._uU(29,"\n    "),e.TgZ(30,"p",3),e._UZ(31,"i",8),e._uU(32," "),e.TgZ(33,"b"),e._uU(34,"Nombre del estudiante:"),e.qZA(),e._uU(35),e.qZA(),e._uU(36,"\n    "),e.TgZ(37,"p",3),e._UZ(38,"i",9),e._uU(39," "),e.TgZ(40,"b"),e._uU(41,"No. de c\xe9dula del estudiante:"),e.qZA(),e._uU(42),e.qZA(),e._uU(43,"\n    "),e.TgZ(44,"p",3),e._UZ(45,"i",10),e._uU(46," "),e.TgZ(47,"b"),e._uU(48,"Carrera:"),e.qZA(),e._uU(49),e.qZA(),e._uU(50,"\n  "),e.qZA(),e._uU(51,"\n  "),e.TgZ(52,"div",11),e._uU(53,"\n    "),e.YNc(54,i,6,0,"ng-container",12),e._uU(55,"\n    "),e.YNc(56,l,5,0,"ng-template",null,13,e.W1O),e._uU(58,"\n    "),e.TgZ(59,"table",14),e._uU(60,"\n      "),e.TgZ(61,"thead",15),e._uU(62,"\n        "),e.TgZ(63,"tr"),e._uU(64,"\n          "),e.TgZ(65,"th",16),e._uU(66,"C\xf3digo"),e.qZA(),e._uU(67,"\n          "),e.TgZ(68,"th",16),e._uU(69,"Nombre"),e.qZA(),e._uU(70,"\n          "),e.TgZ(71,"th",16),e._uU(72,"Cr\xe9ditos"),e.qZA(),e._uU(73,"\n        "),e.qZA(),e._uU(74,"\n      "),e.qZA(),e._uU(75,"\n      "),e.TgZ(76,"tbody"),e._uU(77,"\n        "),e.YNc(78,E,11,3,"tr",17),e._uU(79,"\n      "),e.qZA(),e._uU(80,"\n    "),e.qZA(),e._uU(81,"\n  "),e.qZA(),e._uU(82,"\n  "),e.TgZ(83,"div",2),e._uU(84,"\n    "),e.TgZ(85,"p",3),e._UZ(86,"i",18),e._uU(87," "),e.TgZ(88,"b"),e._uU(89,"Mensajes"),e.qZA(),e.qZA(),e._uU(90,"\n    "),e.YNc(91,y,15,2,"div",19),e._uU(92,"\n    "),e.YNc(93,A,15,1,"div",20),e._uU(94,"\n    "),e.YNc(95,R,15,2,"div",20),e._uU(96,"\n    "),e.YNc(97,T,15,2,"div",20),e._uU(98,"\n  "),e.qZA(),e._uU(99,"\n  "),e.TgZ(100,"div",11),e._uU(101,"\n    "),e.TgZ(102,"p",3),e._UZ(103,"i",21),e._uU(104," "),e.TgZ(105,"b"),e._uU(106,"Archivos adjuntos"),e.qZA(),e.qZA(),e._uU(107,"\n    "),e.TgZ(108,"table",14),e._uU(109,"\n      "),e.TgZ(110,"thead",15),e._uU(111,"\n        "),e.TgZ(112,"tr"),e._uU(113,"\n          "),e.TgZ(114,"th",16),e._uU(115,"Nombre"),e.qZA(),e._uU(116,"\n          "),e.TgZ(117,"th",16),e._uU(118,"Formato"),e.qZA(),e._uU(119,"\n          "),e.TgZ(120,"th",16),e._uU(121,"Tipo"),e.qZA(),e._uU(122,"\n          "),e.TgZ(123,"th",16),e._uU(124,"Acciones"),e.qZA(),e._uU(125,"\n        "),e.qZA(),e._uU(126,"\n      "),e.qZA(),e._uU(127,"\n      "),e.TgZ(128,"tbody"),e._uU(129,"\n        "),e.YNc(130,I,24,5,"tr",17),e._uU(131,"\n      "),e.qZA(),e._uU(132,"\n    "),e.qZA(),e._uU(133,"\n  "),e.qZA(),e._uU(134,"\n  "),e.YNc(135,L,42,1,"ng-container",0),e._uU(136,"\n  \n  "),e._uU(137,"\n  "),e.TgZ(138,"div",22),e._uU(139,"\n    "),e.TgZ(140,"div",23),e._uU(141,"\n      "),e.TgZ(142,"div",24),e._uU(143,"\n        "),e.TgZ(144,"div",25),e._uU(145,"\n          "),e.TgZ(146,"h5",26),e._uU(147,"Visor de Archivos"),e.qZA(),e._uU(148,"\n          "),e._UZ(149,"button",27),e._uU(150,"\n        "),e.qZA(),e._uU(151,"\n        "),e.TgZ(152,"div",28),e._uU(153,"\n          "),e._UZ(154,"img",29),e._uU(155,"\n        "),e.qZA(),e._uU(156,"\n        "),e.TgZ(157,"div",30),e._uU(158,"\n          "),e.TgZ(159,"button",31),e._UZ(160,"i",32),e._uU(161," Cerrar"),e.qZA(),e._uU(162,"\n        "),e.qZA(),e._uU(163,"\n      "),e.qZA(),e._uU(164,"\n    "),e.qZA(),e._uU(165,"\n  "),e.qZA(),e._uU(166,"\n  \n"),e.BQk()),2&n){const t=e.MAs(57),a=e.oxw();e.xp6(3),e.hij("Solicitud #",a.request.id,""),e.xp6(9),e.hij(" ",a.request_types[a.request.request_type-1].name,""),e.xp6(9),e.Oqu(a.request_statuses[a.request.request_status-1].name),e.xp6(7),e.hij(" ",a.request.created_at,""),e.xp6(7),e.hij(" ",a.request.student_name,""),e.xp6(7),e.hij(" ",a.request.student_identification,""),e.xp6(7),e.hij(" ",a.request.career_name,""),e.xp6(5),e.Q6J("ngIf",1==a.request.request_type)("ngIfElse",t),e.xp6(24),e.Q6J("ngForOf",a.request.subjects),e.xp6(13),e.Q6J("ngIf",a.request.parameters.student_message),e.xp6(2),e.Q6J("ngIf",a.request.parameters.accountant_message),e.xp6(2),e.Q6J("ngIf",a.request.parameters.director_message),e.xp6(2),e.Q6J("ngIf",a.request.parameters.dean_message),e.xp6(33),e.Q6J("ngForOf",a.request.attachments),e.xp6(5),e.Q6J("ngIf",a.isAllowed),e.xp6(19),e.s9C("src",a.imgBase64,e.LSH)}}const D=[{path:"",component:(()=>{class n{constructor(t,a,u,d,p){this.spinner=t,this.toastr=a,this.route=u,this.requestDataService=d,this.requestAttachmentDataService=p,this.user={},this.request={},this.request_types=h.N.request_types,this.request_statuses=h.N.request_statuses,this.attachment_types=h.N.attachment_types,this.isLoaded=!1,this.isAllowed=!1,this.replyMessage=""}ngOnInit(){this.route.queryParams.subscribe(t=>{const a=sessionStorage.getItem("token");this.user=(0,Z.Z)(a),this.id_request=t.id,this.refresh()})}refresh(){var t=this;return(0,U.Z)(function*(){yield t.get_request(),4==t.user.role&&1==t.request.request_status?(t.isAllowed=!0,t.allowStatus=2,t.rejectStatus=3):3==t.user.role&&t.user.sub==t.request.director_id&&2==t.request.request_status?(t.isAllowed=!0,t.allowStatus=4,t.rejectStatus=5):2==t.request.request_type&&2==t.user.role&&t.user.sub==t.request.dean_id&&4==t.request.request_status?(t.isAllowed=!0,t.allowStatus=6,t.rejectStatus=7):t.isAllowed=!1})()}get_request(){var t=this;return(0,U.Z)(function*(){t.spinner.show(),t.request=[],t.isLoaded=!1;try{t.request=yield t.requestDataService.getById(t.id_request),t.request.created_at=t.request.created_at.replace(/T.*$/,""),(5!=t.user.role||t.request.student_id==t.user.sub)&&(t.isLoaded=!0)}catch(a){t.toastr.error("Ocurri\xf3 un error","Error")}t.spinner.hide()})()}get_attachment(t){var a=this;return(0,U.Z)(function*(){let u;a.spinner.show();try{u=yield a.requestAttachmentDataService.getById(t)}catch(d){a.toastr.error("Ocurri\xf3 un error","Error")}return a.spinner.hide(),["image/jpeg","image/png"].includes(u.file_type)&&(a.imgBase64="data:"+u.file_type+";base64,"+u.file_content),u})()}download_attachment(t){var a=this;return(0,U.Z)(function*(){const u=yield a.get_attachment(t);let d=1024,p=atob(u.file_content),b=p.length,V=Math.ceil(b/d),S=new Array(V);for(let C=0;C<V;++C){let j=C*d,O=Math.min(j+d,b),F=new Array(O-j);for(let P=j,N=0;P<O;++N,++P)F[N]=p[P].charCodeAt(0);S[C]=new Uint8Array(F)}const Q=new Blob(S,{type:u.file_type});(0,x.saveAs)(Q,u.file_name)})()}file_selected(t){this.file=t.target.files[0]}update_request(t){this.spinner.show();let a=1==t?this.allowStatus:this.rejectStatus;if(""==this.replyMessage)return this.spinner.hide(),void this.toastr.error("El campo de mensaje no puede estar vacio.","Error");switch(this.user.role){case 2:this.request.parameters.dean_message=this.replyMessage;break;case 3:this.request.parameters.director_message=this.replyMessage;break;case 4:this.request.parameters.accountant_message=this.replyMessage}if(this.file){if(this.file.size>10485760)return this.spinner.hide(),void this.toastr.error("El archivo es muy grande.","Error");const u=new FileReader;u.readAsDataURL(this.file),u.onload=()=>{const d=u.result.split(",")[1];this.requestAttachmentDataService.create(this.file.name,this.file.type,d,2).then(p=>{this.requestDataService.update(this.request.id,a,this.request.parameters,p.id).then(b=>{this.spinner.hide(),this.toastr.success("La solicitud ha sido actualizada correctamente.","Solicitud Actualizada"),this.refresh()}).catch(b=>{console.log(b)})}).catch(p=>{console.log(p)})}}else this.requestDataService.update(this.request.id,a,this.request.parameters).then(u=>{this.spinner.hide(),this.toastr.success("La solicitud ha sido actualizada correctamente.","Solicitud Actualizada"),this.refresh()}).catch(u=>{console.log(u)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.t2),e.Y36(w._W),e.Y36(f.gz),e.Y36(r.s),e.Y36(s.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-request-viewer-page"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"display-5","mb-5"],[1,"mb-5"],[1,"lead"],[1,"fas","fa-list"],[1,"fas","fa-info-circle"],[1,"badge","rounded-pill","bg-primary"],[1,"far","fa-calendar-alt"],[1,"fas","fa-user"],[1,"fas","fa-id-card"],[1,"fas","fa-graduation-cap"],[1,"mb-5","table-responsive"],[4,"ngIf","ngIfElse"],["labelRetirar",""],[1,"table","table-bordered","table-hover"],[1,"table-light"],["scope","col"],[4,"ngFor","ngForOf"],[1,"fas","fa-comments"],["class","row d-flex flex-column align-items-start mb-5",4,"ngIf"],["class","row d-flex flex-column align-items-end mb-5",4,"ngIf"],[1,"fas","fa-file"],["id","fileViewerModal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"img-fluid",3,"src"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fas","fa-ban"],[1,"form-label"],[1,"fas","fa-book"],["scope","row"],[1,"row","d-flex","flex-column","align-items-start","mb-5"],[1,"col-lg-6","col-md-12"],[1,"p-3",2,"border-radius","15px","background-color","rgba(57, 192, 237,.2)"],[1,"small","mb-0"],[1,"row","d-flex","flex-column","align-items-end","mb-5"],[1,"text-end"],[1,"p-3","border",2,"border-radius","15px","background-color","#fbfbfb"],[1,"d-grid","gap-2","d-md-block"],["type","button","class","btn btn-primary","data-bs-toggle","modal","data-bs-target","#fileViewerModal",3,"click",4,"ngIf"],["type","button",1,"btn","btn-success",3,"click"],[1,"fas","fa-download"],["type","button","data-bs-toggle","modal","data-bs-target","#fileViewerModal",1,"btn","btn-primary",3,"click"],[1,"fas","fa-eye"],[1,"fas","fa-reply"],[1,"fas","fa-edit"],["rows","5",1,"form-control",3,"ngModel","ngModelChange"],[1,"fas","fa-paperclip"],["role","alert",1,"alert","alert-warning"],["type","file",1,"form-control",3,"change"],["type","button",1,"btn","btn-success","mb-5",3,"click"],[1,"fas","fa-check"],["type","button",1,"btn","btn-danger","mb-5",3,"click"],[1,"fas","fa-times"]],template:function(t,a){1&t&&e.YNc(0,B,167,17,"ng-container",0),2&t&&e.Q6J("ngIf",a.isLoaded)},directives:[q.O5,q.sg,c.Fj,c.JJ,c.On],styles:["textarea[_ngcontent-%COMP%]{resize:none}"]}),n})()}];let J=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[f.Bz.forChild(D)],f.Bz]}),n})(),Y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[],imports:[[q.ez,J,c.u5]]}),n})()},4327:function(M,v){var U;void 0!==(U=function(){"use strict";function Z(r,s,c){var i=new XMLHttpRequest;i.open("GET",r),i.responseType="blob",i.onload=function(){f(i.response,s,c)},i.onerror=function(){console.error("could not download file")},i.send()}function h(r){var s=new XMLHttpRequest;s.open("HEAD",r,!1);try{s.send()}catch(c){}return 200<=s.status&&299>=s.status}function e(r){try{r.dispatchEvent(new MouseEvent("click"))}catch(c){var s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(s)}}var g="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,w=g.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=g.saveAs||("object"!=typeof window||window!==g?function(){}:"download"in HTMLAnchorElement.prototype&&!w?function(r,s,c){var i=g.URL||g.webkitURL,l=document.createElement("a");l.download=s=s||r.name||"download",l.rel="noopener","string"==typeof r?(l.href=r,l.origin===location.origin?e(l):h(l.href)?Z(r,s,c):e(l,l.target="_blank")):(l.href=i.createObjectURL(r),setTimeout(function(){i.revokeObjectURL(l.href)},4e4),setTimeout(function(){e(l)},0))}:"msSaveOrOpenBlob"in navigator?function(r,s,c){if(s=s||r.name||"download","string"!=typeof r)navigator.msSaveOrOpenBlob(function x(r,s){return void 0===s?s={autoBom:!1}:"object"!=typeof s&&(console.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\ufeff",r],{type:r.type}):r}(r,c),s);else if(h(r))Z(r,s,c);else{var i=document.createElement("a");i.href=r,i.target="_blank",setTimeout(function(){e(i)})}}:function(r,s,c,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof r)return Z(r,s,c);var l="application/octet-stream"===r.type,E=/constructor/i.test(g.HTMLElement)||g.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||l&&E||w)&&"undefined"!=typeof FileReader){var A=new FileReader;A.onloadend=function(){var m=A.result;m=y?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=m:location=m,i=null},A.readAsDataURL(r)}else{var R=g.URL||g.webkitURL,T=R.createObjectURL(r);i?i.location=T:location.href=T,i=null,setTimeout(function(){R.revokeObjectURL(T)},4e4)}});g.saveAs=f.saveAs=f,M.exports=f}.apply(v,[]))&&(M.exports=U)}}]);