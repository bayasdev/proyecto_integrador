(self.webpackChunkclient=self.webpackChunkclient||[]).push([[810],{6771:(M,v,_)=>{"use strict";_.r(v),_.d(v,{RequestViewerPageModule:()=>L});var f=_(9808),U=_(5861),w=_(4327),m=_(1816),e=_(1223),q=_(7562),d=_(2290),h=_(1196),A=_(9854),i=_(5291),r=_(2382);function g(n,u){1&n&&(e.ynx(0),e._uU(1,"\n      "),e.TgZ(2,"label",33),e._UZ(3,"i",34),e._uU(4," Materias a modificar"),e.qZA(),e._uU(5,"\n    "),e.BQk())}function s(n,u){1&n&&(e._uU(0,"\n      "),e.TgZ(1,"label",33),e._UZ(2,"i",34),e._uU(3," Materias a retirar"),e.qZA(),e._uU(4,"\n    "))}function c(n,u){if(1&n&&(e.TgZ(0,"tr"),e._uU(1,"\n          "),e.TgZ(2,"th",35),e._uU(3),e.qZA(),e._uU(4,"\n          "),e.TgZ(5,"td"),e._uU(6),e.qZA(),e._uU(7,"\n          "),e.TgZ(8,"td"),e._uU(9),e.qZA(),e._uU(10,"\n        "),e.qZA()),2&n){const t=u.$implicit;e.xp6(3),e.Oqu(t.code),e.xp6(3),e.Oqu(t.name),e.xp6(3),e.Oqu(t.credits)}}function E(n,u){if(1&n&&(e.TgZ(0,"div",36),e._uU(1,"\n      "),e.TgZ(2,"div",37),e._uU(3,"\n        "),e.TgZ(4,"p"),e._UZ(5,"i",8),e._uU(6),e.qZA(),e._uU(7,"\n        "),e.TgZ(8,"div",38),e._uU(9,"\n          "),e.TgZ(10,"p",39),e._uU(11),e.qZA(),e._uU(12,"\n        "),e.qZA(),e._uU(13,"\n      "),e.qZA(),e._uU(14,"\n    "),e.qZA()),2&n){const t=e.oxw(2);e.xp6(6),e.hij(" ",t.request.student_name," (Estudiante)"),e.xp6(5),e.Oqu(t.request.parameters.student_message)}}function y(n,u){if(1&n&&(e.TgZ(0,"div",40),e._uU(1,"\n      "),e.TgZ(2,"div",37),e._uU(3,"\n        "),e.TgZ(4,"p",41),e._UZ(5,"i",8),e._uU(6," Direcci\xf3n de Contabilidad"),e.qZA(),e._uU(7,"\n        "),e.TgZ(8,"div",42),e._uU(9,"\n          "),e.TgZ(10,"p",39),e._uU(11),e.qZA(),e._uU(12,"\n        "),e.qZA(),e._uU(13,"\n      "),e.qZA(),e._uU(14,"\n    "),e.qZA()),2&n){const t=e.oxw(2);e.xp6(11),e.Oqu(t.request.parameters.accountant_message)}}function b(n,u){if(1&n&&(e.TgZ(0,"div",40),e._uU(1,"\n      "),e.TgZ(2,"div",37),e._uU(3,"\n        "),e.TgZ(4,"p",41),e._UZ(5,"i",8),e._uU(6),e.qZA(),e._uU(7,"\n        "),e.TgZ(8,"div",42),e._uU(9,"\n          "),e.TgZ(10,"p",39),e._uU(11),e.qZA(),e._uU(12,"\n        "),e.qZA(),e._uU(13,"\n      "),e.qZA(),e._uU(14,"\n    "),e.qZA()),2&n){const t=e.oxw(2);e.xp6(6),e.hij(" ",t.request.director_name," (Director de Carrera)"),e.xp6(5),e.Oqu(t.request.parameters.director_message)}}function R(n,u){if(1&n&&(e.TgZ(0,"div",40),e._uU(1,"\n      "),e.TgZ(2,"div",37),e._uU(3,"\n        "),e.TgZ(4,"p",41),e._UZ(5,"i",8),e._uU(6),e.qZA(),e._uU(7,"\n        "),e.TgZ(8,"div",42),e._uU(9,"\n          "),e.TgZ(10,"p",39),e._uU(11),e.qZA(),e._uU(12,"\n        "),e.qZA(),e._uU(13,"\n      "),e.qZA(),e._uU(14,"\n    "),e.qZA()),2&n){const t=e.oxw(2);e.xp6(6),e.hij(" ",t.request.dean_name," (Decano)"),e.xp6(5),e.Oqu(t.request.parameters.dean_message)}}function T(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit;return e.oxw(2).get_attachment(o.id)}),e._uU(1,"\n                "),e._UZ(2,"i",48),e._uU(3,"\n              "),e.qZA()}}const Z=function(){return["image/jpeg","image/png"]};function D(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e._uU(1,"\n          "),e.TgZ(2,"th",35),e._uU(3),e.qZA(),e._uU(4,"\n          "),e.TgZ(5,"td"),e._uU(6),e.qZA(),e._uU(7,"\n          "),e.TgZ(8,"td"),e._uU(9),e.qZA(),e._uU(10,"\n          "),e.TgZ(11,"td"),e._uU(12,"\n            "),e.TgZ(13,"div",43),e._uU(14,"\n              "),e.YNc(15,T,4,0,"button",44),e._uU(16,"\n              "),e.TgZ(17,"button",45),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(2).download_attachment(l.id)}),e._uU(18,"\n                "),e._UZ(19,"i",46),e._uU(20,"\n              "),e.qZA(),e._uU(21,"\n            "),e.qZA(),e._uU(22,"\n          "),e.qZA(),e._uU(23,"\n        "),e.qZA()}if(2&n){const t=u.$implicit,a=e.oxw(2);e.xp6(3),e.Oqu(t.file_name),e.xp6(3),e.Oqu(t.file_type),e.xp6(3),e.Oqu(a.attachment_types[t.attachment_type-1].name),e.xp6(6),e.Q6J("ngIf",e.DdM(4,Z).includes(t.file_type))}}function N(n,u){if(1&n){const t=e.EpF();e.ynx(0),e._uU(1,"\n    "),e.TgZ(2,"div",2),e._uU(3,"\n      "),e.TgZ(4,"p",3),e._UZ(5,"i",49),e._uU(6," "),e.TgZ(7,"b"),e._uU(8,"Responder a esta solicitud"),e.qZA(),e.qZA(),e._uU(9,"\n      "),e.TgZ(10,"label",33),e._UZ(11,"i",50),e._uU(12," Deje un mensaje *"),e.qZA(),e._uU(13,"\n      "),e.TgZ(14,"textarea",51),e.NdJ("ngModelChange",function(o){return e.CHM(t),e.oxw(2).replyMessage=o}),e.qZA(),e._uU(15,"\n    "),e.qZA(),e._uU(16,"\n    "),e.TgZ(17,"div",2),e._uU(18,"\n      "),e.TgZ(19,"label",33),e._UZ(20,"i",52),e._uU(21," Adjunte un archivo"),e.qZA(),e._UZ(22,"br"),e._uU(23,"\n      "),e.TgZ(24,"div",53),e._uU(25,"\n        "),e._UZ(26,"i",5),e._uU(27," Tama\xf1o m\xe1ximo 10MB\n      "),e.qZA(),e._uU(28,"\n      "),e.TgZ(29,"input",54),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).file_selected(o)}),e.qZA(),e._uU(30,"\n    "),e.qZA(),e._uU(31,"\n    "),e.TgZ(32,"button",55),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).update_request(1)}),e._uU(33,"\n      "),e._UZ(34,"i",56),e._uU(35," Aprobar solicitud\n    "),e.qZA(),e._uU(36,"\n    "),e.TgZ(37,"button",57),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).update_request(2)}),e._uU(38,"\n      "),e._UZ(39,"i",58),e._uU(40," Rechazar solicitud\n    "),e.qZA(),e._uU(41,"\n  "),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(14),e.Q6J("ngModel",t.replyMessage)}}function I(n,u){if(1&n&&(e.ynx(0),e._uU(1,"\n  "),e.TgZ(2,"h1",1),e._uU(3),e.qZA(),e._uU(4,"\n  "),e.TgZ(5,"div",2),e._uU(6,"\n    "),e.TgZ(7,"p",3),e._UZ(8,"i",4),e._uU(9," "),e.TgZ(10,"b"),e._uU(11,"Tipo de solicitud:"),e.qZA(),e._uU(12),e.qZA(),e._uU(13,"\n    "),e.TgZ(14,"p",3),e._UZ(15,"i",5),e._uU(16," "),e.TgZ(17,"b"),e._uU(18,"Estado:"),e.qZA(),e._uU(19," "),e.TgZ(20,"span",6),e._uU(21),e.qZA(),e.qZA(),e._uU(22,"\n    "),e.TgZ(23,"p",3),e._UZ(24,"i",7),e._uU(25," "),e.TgZ(26,"b"),e._uU(27,"Fecha:"),e.qZA(),e._uU(28),e.qZA(),e._uU(29,"\n    "),e.TgZ(30,"p",3),e._UZ(31,"i",8),e._uU(32," "),e.TgZ(33,"b"),e._uU(34,"Nombre del estudiante:"),e.qZA(),e._uU(35),e.qZA(),e._uU(36,"\n    "),e.TgZ(37,"p",3),e._UZ(38,"i",9),e._uU(39," "),e.TgZ(40,"b"),e._uU(41,"No. de c\xe9dula del estudiante:"),e.qZA(),e._uU(42),e.qZA(),e._uU(43,"\n    "),e.TgZ(44,"p",3),e._UZ(45,"i",10),e._uU(46," "),e.TgZ(47,"b"),e._uU(48,"Carrera:"),e.qZA(),e._uU(49),e.qZA(),e._uU(50,"\n  "),e.qZA(),e._uU(51,"\n  "),e.TgZ(52,"div",11),e._uU(53,"\n    "),e.YNc(54,g,6,0,"ng-container",12),e._uU(55,"\n    "),e.YNc(56,s,5,0,"ng-template",null,13,e.W1O),e._uU(58,"\n    "),e.TgZ(59,"table",14),e._uU(60,"\n      "),e.TgZ(61,"thead",15),e._uU(62,"\n        "),e.TgZ(63,"tr"),e._uU(64,"\n          "),e.TgZ(65,"th",16),e._uU(66,"C\xf3digo"),e.qZA(),e._uU(67,"\n          "),e.TgZ(68,"th",16),e._uU(69,"Nombre"),e.qZA(),e._uU(70,"\n          "),e.TgZ(71,"th",16),e._uU(72,"Cr\xe9ditos"),e.qZA(),e._uU(73,"\n        "),e.qZA(),e._uU(74,"\n      "),e.qZA(),e._uU(75,"\n      "),e.TgZ(76,"tbody"),e._uU(77,"\n        "),e.YNc(78,c,11,3,"tr",17),e._uU(79,"\n      "),e.qZA(),e._uU(80,"\n    "),e.qZA(),e._uU(81,"\n  "),e.qZA(),e._uU(82,"\n  "),e.TgZ(83,"div",2),e._uU(84,"\n    "),e.TgZ(85,"p",3),e._UZ(86,"i",18),e._uU(87," "),e.TgZ(88,"b"),e._uU(89,"Mensajes"),e.qZA(),e.qZA(),e._uU(90,"\n    "),e.YNc(91,E,15,2,"div",19),e._uU(92,"\n    "),e.YNc(93,y,15,1,"div",20),e._uU(94,"\n    "),e.YNc(95,b,15,2,"div",20),e._uU(96,"\n    "),e.YNc(97,R,15,2,"div",20),e._uU(98,"\n  "),e.qZA(),e._uU(99,"\n  "),e.TgZ(100,"div",11),e._uU(101,"\n    "),e.TgZ(102,"p",3),e._UZ(103,"i",21),e._uU(104," "),e.TgZ(105,"b"),e._uU(106,"Archivos adjuntos"),e.qZA(),e.qZA(),e._uU(107,"\n    "),e.TgZ(108,"table",14),e._uU(109,"\n      "),e.TgZ(110,"thead",15),e._uU(111,"\n        "),e.TgZ(112,"tr"),e._uU(113,"\n          "),e.TgZ(114,"th",16),e._uU(115,"Nombre"),e.qZA(),e._uU(116,"\n          "),e.TgZ(117,"th",16),e._uU(118,"Formato"),e.qZA(),e._uU(119,"\n          "),e.TgZ(120,"th",16),e._uU(121,"Tipo"),e.qZA(),e._uU(122,"\n          "),e.TgZ(123,"th",16),e._uU(124,"Acciones"),e.qZA(),e._uU(125,"\n        "),e.qZA(),e._uU(126,"\n      "),e.qZA(),e._uU(127,"\n      "),e.TgZ(128,"tbody"),e._uU(129,"\n        "),e.YNc(130,D,24,5,"tr",17),e._uU(131,"\n      "),e.qZA(),e._uU(132,"\n    "),e.qZA(),e._uU(133,"\n  "),e.qZA(),e._uU(134,"\n  "),e.YNc(135,N,42,1,"ng-container",0),e._uU(136,"\n  \n  "),e._uU(137,"\n  "),e.TgZ(138,"div",22),e._uU(139,"\n    "),e.TgZ(140,"div",23),e._uU(141,"\n      "),e.TgZ(142,"div",24),e._uU(143,"\n        "),e.TgZ(144,"div",25),e._uU(145,"\n          "),e.TgZ(146,"h5",26),e._uU(147,"Visor de Archivos"),e.qZA(),e._uU(148,"\n          "),e._UZ(149,"button",27),e._uU(150,"\n        "),e.qZA(),e._uU(151,"\n        "),e.TgZ(152,"div",28),e._uU(153,"\n          "),e._UZ(154,"img",29),e._uU(155,"\n        "),e.qZA(),e._uU(156,"\n        "),e.TgZ(157,"div",30),e._uU(158,"\n          "),e.TgZ(159,"button",31),e._UZ(160,"i",32),e._uU(161," Cerrar"),e.qZA(),e._uU(162,"\n        "),e.qZA(),e._uU(163,"\n      "),e.qZA(),e._uU(164,"\n    "),e.qZA(),e._uU(165,"\n  "),e.qZA(),e._uU(166,"\n  \n"),e.BQk()),2&n){const t=e.MAs(57),a=e.oxw();e.xp6(3),e.hij("Solicitud #",a.request.id,""),e.xp6(9),e.hij(" ",a.request_types[a.request.request_type-1].name,""),e.xp6(9),e.Oqu(a.request_statuses[a.request.request_status-1].name),e.xp6(7),e.hij(" ",a.request.created_at,""),e.xp6(7),e.hij(" ",a.request.student_name,""),e.xp6(7),e.hij(" ",a.request.student_identification,""),e.xp6(7),e.hij(" ",a.request.career_name,""),e.xp6(5),e.Q6J("ngIf",1==a.request.request_type)("ngIfElse",t),e.xp6(24),e.Q6J("ngForOf",a.request.subjects),e.xp6(13),e.Q6J("ngIf",a.request.parameters.student_message),e.xp6(2),e.Q6J("ngIf",a.request.parameters.accountant_message),e.xp6(2),e.Q6J("ngIf",a.request.parameters.director_message),e.xp6(2),e.Q6J("ngIf",a.request.parameters.dean_message),e.xp6(33),e.Q6J("ngForOf",a.request.attachments),e.xp6(5),e.Q6J("ngIf",a.isAllowed),e.xp6(19),e.s9C("src",a.imgBase64,e.LSH)}}const B=[{path:"",component:(()=>{class n{constructor(t,a,o,l,p){this.spinner=t,this.toastr=a,this.route=o,this.requestDataService=l,this.requestAttachmentDataService=p,this.user={},this.request={},this.request_types=[{id:1,name:"Modificaci\xf3n de Carga Acad\xe9mica"},{id:2,name:"Retiro en Asignatura"}],this.request_statuses=[{id:1,name:"Pago Pendiente"},{id:2,name:"Pago Aprobado"},{id:3,name:"Pago Rechazado"},{id:4,name:"Aprobado por Director"},{id:5,name:"Rechazado por Director"},{id:6,name:"Aprobado por Decano"},{id:7,name:"Rechazado por Decano"}],this.attachment_types=[{id:1,name:"Comprobante de Pago"},{id:2,name:"Otros"}],this.isLoaded=!1,this.isAllowed=!1,this.replyMessage=""}ngOnInit(){this.route.queryParams.subscribe(t=>{const a=sessionStorage.getItem("token");this.user=(0,m.Z)(a),this.id_request=t.id,this.refresh()})}refresh(){var t=this;return(0,U.Z)(function*(){t.get_request(),4==t.user.role?(t.isAllowed=!0,t.allowStatus=2,t.rejectStatus=3):3==t.user.role&&t.user.sub==t.request.director_id&&2==t.request.request_status?(t.isAllowed=!0,t.allowStatus=4,t.rejectStatus=5):2==t.request.request_type&&2==t.user.role&&t.user.sub==t.request.dean_id&&4==t.request.request_status&&(t.isAllowed=!0,t.allowStatus=6,t.rejectStatus=7)})()}get_request(){this.spinner.show(),this.request=[],this.requestDataService.getById(this.id_request).then(t=>{this.spinner.hide(),this.request=t,this.request.created_at=this.request.created_at.replace(/T.*$/,""),(5!=this.user.role||this.request.student_id==this.user.sub)&&(this.isLoaded=!0)}).catch(t=>{this.spinner.hide(),this.toastr.error("Ocurri\xf3 un error","Error")})}get_attachment(t){var a=this;return(0,U.Z)(function*(){let o;a.spinner.show();try{o=yield a.requestAttachmentDataService.getById(t)}catch(l){a.toastr.error("Ocurri\xf3 un error","Error")}return a.spinner.hide(),["image/jpeg","image/png"].includes(o.file_type)&&(a.imgBase64="data:"+o.file_type+";base64,"+o.file_content),o})()}download_attachment(t){var a=this;return(0,U.Z)(function*(){const o=yield a.get_attachment(t);let l=1024,p=atob(o.file_content),x=p.length,V=Math.ceil(x/l),O=new Array(V);for(let C=0;C<V;++C){let j=C*l,S=Math.min(j+l,x),F=new Array(S-j);for(let P=j,k=0;P<S;++k,++P)F[k]=p[P].charCodeAt(0);O[C]=new Uint8Array(F)}const Y=new Blob(O,{type:o.file_type});(0,w.saveAs)(Y,o.file_name)})()}file_selected(t){this.file=t.target.files[0]}update_request(t){if(this.spinner.show(),""==this.replyMessage)return this.spinner.hide(),void this.toastr.error("El campo de mensaje no puede estar vacio.","Error");if(this.file.size>10485760)return this.spinner.hide(),void this.toastr.error("El archivo es muy grande.","Error");{switch(this.user.role){case 2:this.request.parameters.dean_message=this.replyMessage;break;case 3:this.request.parameters.director_message=this.replyMessage;break;case 4:this.request.parameters.accountant_message=this.replyMessage}let a=1==t?this.allowStatus:this.rejectStatus;const o=new FileReader;o.readAsDataURL(this.file),o.onload=()=>{const l=o.result.split(",")[1];this.requestAttachmentDataService.create(this.file.name,this.file.type,l,2).then(p=>{this.requestDataService.update(this.request.id,a,this.request.parameters,p.id).then(x=>{this.spinner.hide(),this.toastr.success("La solicitud ha sido actualizada correctamente.","Solicitud Actualizada"),this.refresh()}).catch(x=>{console.log(x)})}).catch(p=>{console.log(p)})}}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(q.t2),e.Y36(d._W),e.Y36(h.gz),e.Y36(A.s),e.Y36(i.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-request-viewer-page"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"display-5","mb-5"],[1,"mb-5"],[1,"lead"],[1,"fas","fa-list"],[1,"fas","fa-info-circle"],[1,"badge","rounded-pill","bg-primary"],[1,"far","fa-calendar-alt"],[1,"fas","fa-user"],[1,"fas","fa-id-card"],[1,"fas","fa-graduation-cap"],[1,"mb-5","table-responsive"],[4,"ngIf","ngIfElse"],["labelRetirar",""],[1,"table","table-bordered","table-hover"],[1,"table-light"],["scope","col"],[4,"ngFor","ngForOf"],[1,"fas","fa-comments"],["class","row d-flex flex-column align-items-start mb-5",4,"ngIf"],["class","row d-flex flex-column align-items-end mb-5",4,"ngIf"],[1,"fas","fa-file"],["id","fileViewerModal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"img-fluid",3,"src"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fas","fa-ban"],[1,"form-label"],[1,"fas","fa-book"],["scope","row"],[1,"row","d-flex","flex-column","align-items-start","mb-5"],[1,"col-lg-6","col-md-12"],[1,"p-3",2,"border-radius","15px","background-color","rgba(57, 192, 237,.2)"],[1,"small","mb-0"],[1,"row","d-flex","flex-column","align-items-end","mb-5"],[1,"text-end"],[1,"p-3","border",2,"border-radius","15px","background-color","#fbfbfb"],[1,"d-grid","gap-2","d-md-block"],["type","button","class","btn btn-primary","data-bs-toggle","modal","data-bs-target","#fileViewerModal",3,"click",4,"ngIf"],["type","button",1,"btn","btn-success",3,"click"],[1,"fas","fa-download"],["type","button","data-bs-toggle","modal","data-bs-target","#fileViewerModal",1,"btn","btn-primary",3,"click"],[1,"fas","fa-eye"],[1,"fas","fa-reply"],[1,"fas","fa-edit"],["rows","5",1,"form-control",3,"ngModel","ngModelChange"],[1,"fas","fa-paperclip"],["role","alert",1,"alert","alert-warning"],["type","file",1,"form-control",3,"change"],["type","button",1,"btn","btn-success","mb-5",3,"click"],[1,"fas","fa-check"],["type","button",1,"btn","btn-danger","mb-5",3,"click"],[1,"fas","fa-times"]],template:function(t,a){1&t&&e.YNc(0,I,167,17,"ng-container",0),2&t&&e.Q6J("ngIf",a.isLoaded)},directives:[f.O5,f.sg,r.Fj,r.JJ,r.On],styles:["textarea[_ngcontent-%COMP%]{resize:none}"]}),n})()}];let J=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[h.Bz.forChild(B)],h.Bz]}),n})(),L=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[],imports:[[f.ez,J,r.u5]]}),n})()},4327:function(M,v){var U;void 0!==(U=function(){"use strict";function m(i,r,g){var s=new XMLHttpRequest;s.open("GET",i),s.responseType="blob",s.onload=function(){A(s.response,r,g)},s.onerror=function(){console.error("could not download file")},s.send()}function e(i){var r=new XMLHttpRequest;r.open("HEAD",i,!1);try{r.send()}catch(g){}return 200<=r.status&&299>=r.status}function q(i){try{i.dispatchEvent(new MouseEvent("click"))}catch(g){var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(r)}}var d="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,h=d.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),A=d.saveAs||("object"!=typeof window||window!==d?function(){}:"download"in HTMLAnchorElement.prototype&&!h?function(i,r,g){var s=d.URL||d.webkitURL,c=document.createElement("a");c.download=r=r||i.name||"download",c.rel="noopener","string"==typeof i?(c.href=i,c.origin===location.origin?q(c):e(c.href)?m(i,r,g):q(c,c.target="_blank")):(c.href=s.createObjectURL(i),setTimeout(function(){s.revokeObjectURL(c.href)},4e4),setTimeout(function(){q(c)},0))}:"msSaveOrOpenBlob"in navigator?function(i,r,g){if(r=r||i.name||"download","string"!=typeof i)navigator.msSaveOrOpenBlob(function w(i,r){return void 0===r?r={autoBom:!1}:"object"!=typeof r&&(console.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\ufeff",i],{type:i.type}):i}(i,g),r);else if(e(i))m(i,r,g);else{var s=document.createElement("a");s.href=i,s.target="_blank",setTimeout(function(){q(s)})}}:function(i,r,g,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof i)return m(i,r,g);var c="application/octet-stream"===i.type,E=/constructor/i.test(d.HTMLElement)||d.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||c&&E||h)&&"undefined"!=typeof FileReader){var b=new FileReader;b.onloadend=function(){var Z=b.result;Z=y?Z:Z.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=Z:location=Z,s=null},b.readAsDataURL(i)}else{var R=d.URL||d.webkitURL,T=R.createObjectURL(i);s?s.location=T:location.href=T,s=null,setTimeout(function(){R.revokeObjectURL(T)},4e4)}});d.saveAs=A.saveAs=A,M.exports=A}.apply(v,[]))&&(M.exports=U)}}]);