"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[224],{224:(W,c,a)=>{a.r(c),a.d(c,{DashboardPageModule:()=>z});var r=a(9808),U=a(1816),i=a(2340),e=a(1223),Z=a(7562),p=a(9854),g=a(520);let h=(()=>{class n{constructor(t){this.http=t,this.options={},this.headers={},this.headers=new g.WM({api_token:sessionStorage.getItem("token")}),this.options={headers:this.headers}}getTotals(){return this.http.get(i.N.api+"totals",this.options).toPromise()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(g.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var _=a(1196);function f(n,s){1&n&&(e.TgZ(0,"p",12),e._uU(1,"Hemos preparado para t\xed los siguientes servicios:"),e.qZA())}function m(n,s){1&n&&(e.TgZ(0,"p",12),e._uU(1,"Tu sistema en un vistazo:"),e.qZA())}const l=function(){return["/student/new-request"]},q=function(){return{type:1}},T=function(){return{type:2}},A=function(){return["/student/requests"]};function x(n,s){1&n&&(e.ynx(0),e._uU(1,"\n            "),e.TgZ(2,"div",13),e._uU(3,"\n                "),e.TgZ(4,"a",14),e._UZ(5,"i",15),e._uU(6," Modificar mi carga acad\xe9mica"),e.qZA(),e._uU(7,"\n                "),e.TgZ(8,"a",16),e._UZ(9,"i",17),e._uU(10," Retirar asignaturas"),e.qZA(),e._uU(11,"\n                "),e.TgZ(12,"a",18),e._UZ(13,"i",19),e._uU(14," Historial de solicitudes"),e.qZA(),e._uU(15,"\n            "),e.qZA(),e._uU(16,"\n        "),e.BQk()),2&n&&(e.xp6(4),e.Q6J("routerLink",e.DdM(5,l))("queryParams",e.DdM(6,q)),e.xp6(4),e.Q6J("routerLink",e.DdM(7,l))("queryParams",e.DdM(8,T)),e.xp6(4),e.Q6J("routerLink",e.DdM(9,A)))}const v=function(){return["/accountant/requests"]};function b(n,s){1&n&&(e.ynx(0),e._uU(1,"\n            "),e.TgZ(2,"div",13),e._uU(3,"\n                "),e.TgZ(4,"a",20),e._UZ(5,"i",19),e._uU(6," Todas las Solicitudes"),e.qZA(),e._uU(7,"\n            "),e.qZA(),e._uU(8,"\n        "),e.BQk()),2&n&&(e.xp6(4),e.Q6J("routerLink",e.DdM(1,v)))}const D=function(){return["/director/requests"]};function y(n,s){1&n&&(e.ynx(0),e._uU(1,"\n            "),e.TgZ(2,"div",13),e._uU(3,"\n                "),e.TgZ(4,"a",20),e._UZ(5,"i",19),e._uU(6," Todas las Solicitudes"),e.qZA(),e._uU(7,"\n            "),e.qZA(),e._uU(8,"\n        "),e.BQk()),2&n&&(e.xp6(4),e.Q6J("routerLink",e.DdM(1,D)))}const P=function(){return["/dean/requests"]};function k(n,s){1&n&&(e.ynx(0),e._uU(1,"\n            "),e.TgZ(2,"div",13),e._uU(3,"\n                "),e.TgZ(4,"a",20),e._UZ(5,"i",19),e._uU(6," Todas las Solicitudes"),e.qZA(),e._uU(7,"\n            "),e.qZA(),e._uU(8,"\n        "),e.BQk()),2&n&&(e.xp6(4),e.Q6J("routerLink",e.DdM(1,P)))}const M=function(){return["/admin/users"]},C=function(){return["/admin/careers"]},d=function(){return["/admin/requests"]};function Q(n,s){if(1&n){const t=e.EpF();e.ynx(0),e._uU(1,"\n        "),e.TgZ(2,"div",21),e._uU(3,"\n            "),e.TgZ(4,"h2"),e._uU(5,"Estad\xedsticas generales "),e.TgZ(6,"a"),e.TgZ(7,"i",22),e.NdJ("click",function(){return e.CHM(t),e.oxw().refresh()}),e.qZA(),e.qZA(),e.qZA(),e._uU(8,"\n        "),e.qZA(),e._uU(9,"\n        "),e.TgZ(10,"div",23),e._uU(11,"\n            "),e.TgZ(12,"div",24),e._uU(13,"\n                "),e.TgZ(14,"div",25),e._uU(15,"\n                    "),e.TgZ(16,"h5",26),e._uU(17,"Usuarios registrados "),e._UZ(18,"i",27),e.qZA(),e._uU(19,"\n                    "),e.TgZ(20,"h1"),e._uU(21),e.qZA(),e._uU(22,"\n                "),e.qZA(),e._uU(23,"\n                "),e.TgZ(24,"div",28),e._uU(25,"\n                    "),e.TgZ(26,"a",29),e._uU(27,"Detalles "),e._UZ(28,"i",30),e.qZA(),e._uU(29,"\n                    "),e.TgZ(30,"span",31),e._uU(31,"\n                        "),e._UZ(32,"i",32),e._uU(33,"\n                    "),e.qZA(),e._uU(34,"\n                "),e.qZA(),e._uU(35,"\n            "),e.qZA(),e._uU(36,"\n        "),e.qZA(),e._uU(37,"\n        "),e.TgZ(38,"div",23),e._uU(39,"\n            "),e.TgZ(40,"div",33),e._uU(41,"\n                "),e.TgZ(42,"div",25),e._uU(43,"\n                    "),e.TgZ(44,"h5",26),e._uU(45,"Carreras "),e._UZ(46,"i",34),e.qZA(),e._uU(47,"\n                    "),e.TgZ(48,"h1"),e._uU(49),e.qZA(),e._uU(50,"\n                "),e.qZA(),e._uU(51,"\n                "),e.TgZ(52,"div",28),e._uU(53,"\n                    "),e.TgZ(54,"a",35),e._uU(55,"Detalles "),e._UZ(56,"i",30),e.qZA(),e._uU(57,"\n                    "),e.TgZ(58,"span",31),e._uU(59,"\n                        "),e._UZ(60,"i",32),e._uU(61,"\n                    "),e.qZA(),e._uU(62,"\n                "),e.qZA(),e._uU(63,"\n            "),e.qZA(),e._uU(64,"\n        "),e.qZA(),e._uU(65,"\n        "),e.TgZ(66,"div",23),e._uU(67,"\n            "),e.TgZ(68,"div",36),e._uU(69,"\n                "),e.TgZ(70,"div",25),e._uU(71,"\n                    "),e.TgZ(72,"h5",26),e._uU(73,"Solicitudes creadas "),e._UZ(74,"i",37),e.qZA(),e._uU(75,"\n                    "),e.TgZ(76,"h1"),e._uU(77),e.qZA(),e._uU(78,"\n                "),e.qZA(),e._uU(79,"\n                "),e.TgZ(80,"div",28),e._uU(81,"\n                    "),e.TgZ(82,"a",29),e._uU(83,"Detalles "),e._UZ(84,"i",30),e.qZA(),e._uU(85,"\n                    "),e.TgZ(86,"span",31),e._uU(87,"\n                        "),e._UZ(88,"i",32),e._uU(89,"\n                    "),e.qZA(),e._uU(90,"\n                "),e.qZA(),e._uU(91,"\n            "),e.qZA(),e._uU(92,"\n        "),e.qZA(),e._uU(93,"\n        "),e.TgZ(94,"div",23),e._uU(95,"\n            "),e.TgZ(96,"div",38),e._uU(97,"\n                "),e.TgZ(98,"div",25),e._uU(99,"\n                    "),e.TgZ(100,"h5",26),e._uU(101,"Archivos subidos "),e._UZ(102,"i",39),e.qZA(),e._uU(103,"\n                    "),e.TgZ(104,"h1"),e._uU(105),e.qZA(),e._uU(106,"\n                "),e.qZA(),e._uU(107,"\n                "),e.TgZ(108,"div",28),e._uU(109,"\n                    "),e.TgZ(110,"a",29),e._uU(111,"Detalles "),e._UZ(112,"i",30),e.qZA(),e._uU(113,"\n                    "),e.TgZ(114,"span",31),e._uU(115,"\n                        "),e._UZ(116,"i",32),e._uU(117,"\n                    "),e.qZA(),e._uU(118,"\n                "),e.qZA(),e._uU(119,"\n            "),e.qZA(),e._uU(120,"\n        "),e.qZA(),e._uU(121,"\n    "),e.BQk()}if(2&n){const t=e.oxw();e.xp6(21),e.Oqu(t.user_total),e.xp6(5),e.Q6J("routerLink",e.DdM(8,M)),e.xp6(23),e.Oqu(t.career_total),e.xp6(5),e.Q6J("routerLink",e.DdM(9,C)),e.xp6(23),e.Oqu(t.request_total),e.xp6(5),e.Q6J("routerLink",e.DdM(10,d)),e.xp6(23),e.Oqu(t.file_total),e.xp6(5),e.Q6J("routerLink",e.DdM(11,d))}}function J(n,s){if(1&n){const t=e.EpF();e.ynx(0),e._uU(1,"\n                "),e.TgZ(2,"h2"),e._uU(3,"Solicitudes en curso "),e.TgZ(4,"a"),e.TgZ(5,"i",22),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).refresh()}),e.qZA(),e.qZA(),e.qZA(),e._uU(6,"\n            "),e.BQk()}}function I(n,s){if(1&n){const t=e.EpF();e._uU(0,"\n                "),e.TgZ(1,"h2"),e._uU(2,"Solicitudes pendientes "),e.TgZ(3,"a"),e.TgZ(4,"i",22),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).refresh()}),e.qZA(),e.qZA(),e.qZA(),e._uU(5,"\n            ")}}const w=function(){return["/request-viewer"]},S=function(n){return{id:n}};function N(n,s){if(1&n&&(e.TgZ(0,"tr"),e._uU(1,"\n                        "),e.TgZ(2,"th",48),e._uU(3),e.qZA(),e._uU(4,"\n                        "),e.TgZ(5,"td"),e._uU(6),e.qZA(),e._uU(7,"\n                        "),e.TgZ(8,"td"),e._uU(9),e.qZA(),e._uU(10,"\n                        "),e.TgZ(11,"td"),e._uU(12,"\n                            "),e.TgZ(13,"a",49),e._uU(14,"\n                                "),e._UZ(15,"i",50),e._uU(16,"\n                            "),e.qZA(),e._uU(17,"\n                        "),e.qZA(),e._uU(18,"\n                    "),e.qZA()),2&n){const t=s.$implicit,u=e.oxw(3);e.xp6(3),e.Oqu(t.id),e.xp6(3),e.Oqu(u.request_types[t.request_type-1].name),e.xp6(3),e.hij("\n                            ",u.request_statuses[t.request_status-1].name,"\n                        "),e.xp6(4),e.Q6J("routerLink",e.DdM(5,w))("queryParams",e.VKq(6,S,t.id))}}function L(n,s){if(1&n&&(e.TgZ(0,"div",43),e._uU(1,"\n            "),e.TgZ(2,"table",44),e._uU(3,"\n                "),e.TgZ(4,"thead",45),e._uU(5,"\n                    "),e.TgZ(6,"tr"),e._uU(7,"\n                        "),e.TgZ(8,"th",46),e._uU(9,"ID"),e.qZA(),e._uU(10,"\n                        "),e.TgZ(11,"th",46),e._uU(12,"Tipo"),e.qZA(),e._uU(13,"\n                        "),e.TgZ(14,"th",46),e._uU(15,"Status"),e.qZA(),e._uU(16,"\n                        "),e.TgZ(17,"th",46),e._uU(18,"Acciones"),e.qZA(),e._uU(19,"\n                    "),e.qZA(),e._uU(20,"\n                "),e.qZA(),e._uU(21,"\n                "),e.TgZ(22,"tbody"),e._uU(23,"\n                    "),e.YNc(24,N,19,8,"tr",47),e._uU(25,"\n                "),e.qZA(),e._uU(26,"\n            "),e.qZA(),e._uU(27,"\n        "),e.qZA()),2&n){const t=e.oxw(2);e.xp6(24),e.Q6J("ngForOf",t.requests)}}function Y(n,s){1&n&&(e.ynx(0),e._uU(1,"\n                        "),e.TgZ(2,"p",12),e._uU(3,"En este momento no tienes solicitudes en curso."),e.qZA(),e._uU(4,"\n                    "),e.BQk())}function E(n,s){1&n&&(e._uU(0,"\n                        "),e.TgZ(1,"p",12),e._uU(2,"En este momento no tienes solicitudes pendientes de revisi\xf3n."),e.qZA(),e._uU(3,"\n                    "))}function B(n,s){if(1&n&&(e._uU(0,"\n            "),e.TgZ(1,"div",51),e._uU(2,"\n                "),e.TgZ(3,"div",52),e._uU(4,"\n                    "),e.TgZ(5,"div",0),e._uU(6,"\n                        "),e._UZ(7,"img",53),e._uU(8,"\n                    "),e.qZA(),e._uU(9,"\n                    "),e.YNc(10,Y,5,0,"ng-container",10),e._uU(11,"\n                    "),e.YNc(12,E,4,0,"ng-template",null,54,e.W1O),e._uU(14,"\n                "),e.qZA(),e._uU(15,"\n            "),e.qZA(),e._uU(16,"\n        ")),2&n){const t=e.MAs(13),u=e.oxw(2);e.xp6(10),e.Q6J("ngIf",5==u.user.role)("ngIfElse",t)}}function O(n,s){if(1&n&&(e._uU(0,"\n        "),e.TgZ(1,"div",21),e._uU(2,"\n            "),e.YNc(3,J,7,0,"ng-container",10),e._uU(4,"\n            "),e.YNc(5,I,6,0,"ng-template",null,40,e.W1O),e._uU(7,"\n        "),e.qZA(),e._uU(8,"\n        "),e.YNc(9,L,28,1,"div",41),e._uU(10,"\n        "),e.YNc(11,B,17,2,"ng-template",null,42,e.W1O),e._uU(13,"\n    ")),2&n){const t=e.MAs(6),u=e.MAs(12),o=e.oxw();e.xp6(3),e.Q6J("ngIf",5==o.user.role)("ngIfElse",t),e.xp6(6),e.Q6J("ngIf",0!=o.requests.length)("ngIfElse",u)}}const F=[{path:"",component:(()=>{class n{constructor(t,u,o,R){this.datepipe=t,this.spinner=u,this.requestDataService=o,this.totalDataService=R,this.user={},this.date=this.datepipe.transform(new Date,"dd/MM/yyyy"),this.requests=[],this.request_types=i.N.request_types,this.request_statuses=i.N.request_statuses,this.user_total=0,this.request_total=0,this.career_total=0,this.file_total=0}ngOnInit(){const t=sessionStorage.getItem("token");this.user=(0,U.Z)(t),this.refresh()}refresh(){this.getData()}getData(){this.spinner.show(),this.requests=[],5==this.user.role?this.requestDataService.getActiveByStudent(this.user.sub).then(t=>{this.spinner.hide(),this.requests=t}).catch(t=>{console.log(t)}):4==this.user.role?this.requestDataService.getPendingPayment().then(t=>{this.spinner.hide(),this.requests=t}).catch(t=>{console.log(t)}):3==this.user.role?this.requestDataService.getActiveByDirector(this.user.sub).then(t=>{this.spinner.hide(),this.requests=t}).catch(t=>{console.log(t)}):2==this.user.role?this.requestDataService.getActiveByDean(this.user.sub).then(t=>{this.spinner.hide(),this.requests=t}).catch(t=>{console.log(t)}):this.totalDataService.getTotals().then(t=>{this.spinner.hide(),this.user_total=t.users,this.career_total=t.careers,this.request_total=t.requests,this.file_total=t.files}).catch(t=>{console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.uU),e.Y36(Z.t2),e.Y36(p.s),e.Y36(h))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-dashboard-page"]],decls:41,vars:10,consts:[[1,"mb-5"],[1,"lead","text-end"],[1,"far","fa-calendar"],[1,"row","d-flex","align-items-center","mb-5"],[1,"col-lg-4","col-md-12","mb-lg-0","mb-5"],["src","assets/img/dashboard/bienvenida.svg","width","300",1,"img-fluid"],[1,"col-lg-8","col-md-12"],["class","lead",4,"ngIf"],[4,"ngIf"],[1,"row","d-flex","justify-content-center","mb-5"],[4,"ngIf","ngIfElse"],["requestsTable",""],[1,"lead"],[1,"mb-5","d-grid","gap-2","d-md-block"],[1,"btn","btn-success",3,"routerLink","queryParams"],[1,"far","fa-calendar-check"],[1,"btn","btn-warning",3,"routerLink","queryParams"],[1,"far","fa-calendar-minus"],[1,"btn","btn-outline-secondary",3,"routerLink"],[1,"fas","fa-history"],[1,"btn","btn-success",3,"routerLink"],[1,"text-center","mb-5"],[1,"fas","fa-redo",3,"click"],[1,"col-md-3","mb-3"],[1,"card","bg-primary","text-white","h-100"],[1,"card-body","py-5"],[1,"card-title"],[1,"fas","fa-users"],[1,"card-footer","d-flex"],[1,"text-decoration-none","text-white",3,"routerLink"],[1,"fas","fa-arrow-circle-right"],[1,"ms-auto"],[1,"bi","bi-chevron-right"],[1,"card","bg-warning","text-dark","h-100"],[1,"fas","fa-graduation-cap"],[1,"text-decoration-none","text-dark",3,"routerLink"],[1,"card","bg-success","text-white","h-100"],[1,"fas","fa-folder-open"],[1,"card","bg-secondary","text-white","h-100"],[1,"fas","fa-cloud-upload-alt"],["pendingLabel",""],["class","table-responsive",4,"ngIf","ngIfElse"],["noRequests",""],[1,"table-responsive"],[1,"table","table-hover","table-bordered"],[1,"table-light"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"btn","btn-primary",3,"routerLink","queryParams"],[1,"fas","fa-eye"],[1,"row","d-flex","flex-column","align-items-center","text-center"],[1,"col-lg-5","col-md-12","col-sm-12"],["src","assets/img/dashboard/vacio.svg","width","300"],["emptyText",""]],template:function(t,u){if(1&t&&(e._uU(0,"\n"),e.TgZ(1,"div",0),e._uU(2,"\n    "),e.TgZ(3,"p",1),e._UZ(4,"i",2),e._uU(5),e.qZA(),e._uU(6,"\n"),e.qZA(),e._uU(7,"\n"),e.TgZ(8,"div",3),e._uU(9,"\n    "),e.TgZ(10,"div",4),e._uU(11,"\n        "),e._UZ(12,"img",5),e._uU(13,"\n    "),e.qZA(),e._uU(14,"\n    "),e.TgZ(15,"div",6),e._uU(16,"\n        "),e.TgZ(17,"h1"),e._uU(18),e.qZA(),e._uU(19,"\n        "),e.YNc(20,f,2,0,"p",7),e._uU(21,"\n        "),e.YNc(22,m,2,0,"p",7),e._uU(23,"\n        "),e.YNc(24,x,17,10,"ng-container",8),e._uU(25,"\n        "),e.YNc(26,b,9,2,"ng-container",8),e._uU(27,"\n        "),e.YNc(28,y,9,2,"ng-container",8),e._uU(29,"\n        "),e.YNc(30,k,9,2,"ng-container",8),e._uU(31,"\n    "),e.qZA(),e._uU(32,"\n"),e.qZA(),e._uU(33,"\n"),e.TgZ(34,"div",9),e._uU(35,"\n    "),e.YNc(36,Q,122,12,"ng-container",10),e._uU(37,"\n    "),e.YNc(38,O,14,4,"ng-template",null,11,e.W1O),e._uU(40,"\n"),e.qZA()),2&t){const o=e.MAs(39);e.xp6(5),e.hij(" ",u.date,""),e.xp6(13),e.hij("Hola, ",u.user.name,""),e.xp6(2),e.Q6J("ngIf",1!=u.user.role),e.xp6(2),e.Q6J("ngIf",1==u.user.role),e.xp6(2),e.Q6J("ngIf",5==u.user.role),e.xp6(2),e.Q6J("ngIf",4==u.user.role),e.xp6(2),e.Q6J("ngIf",3==u.user.role),e.xp6(2),e.Q6J("ngIf",2==u.user.role),e.xp6(6),e.Q6J("ngIf",1==u.user.role)("ngIfElse",o)}},directives:[r.O5,_.yS,r.sg],styles:[""]}),n})()}];let j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[_.Bz.forChild(F)],_.Bz]}),n})();var H=a(2382);let z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[r.uU],imports:[[r.ez,j,H.u5]]}),n})()}}]);