"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[479],{1479:(H,l,a)=>{a.r(l),a.d(l,{CareersPageModule:()=>D});var _=a(9808),f=a(5861),e=a(1223),h=a(7562),m=a(2290),C=a(5362),U=a(5748),u=a(520),Z=a(2340);let T=(()=>{class n{constructor(t){this.http=t,this.options={},this.headers={},this.headers=new u.WM({api_token:sessionStorage.getItem("token")}),this.options={headers:this.headers}}get(){return this.http.get(Z.N.api+"directors",this.options).toPromise()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(u.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var s=a(2382),g=a(4040);function x(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.name)}}function b(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"input",7),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().$implicit.name=i}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.Q6J("ngModel",t.name)}}function A(n,o){if(1&n&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.name)}}function M(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"select",25),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().$implicit.director_id=i}),e._uU(1,"\n                            "),e.YNc(2,A,2,2,"option",9),e._uU(3,"\n                        "),e.qZA()}if(2&n){const t=e.oxw().$implicit,r=e.oxw();e.Q6J("ngModel",t.director_id)("disabled",!0),e.xp6(2),e.Q6J("ngForOf",r.directors)}}function J(n,o){if(1&n&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.name)}}function y(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"select",8),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().$implicit.director_id=i}),e._uU(1,"\n                            "),e.YNc(2,J,2,2,"option",9),e.ALo(3,"orderBy"),e._uU(4,"\n                        "),e.qZA()}if(2&n){const t=e.oxw().$implicit,r=e.oxw();e.Q6J("ngModel",t.director_id),e.xp6(2),e.Q6J("ngForOf",e.xi3(3,2,r.directors,r.order))}}function P(n,o){if(1&n&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.name)}}function v(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"select",25),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().$implicit.faculty_id=i}),e._uU(1,"\n                            "),e.YNc(2,P,2,2,"option",9),e._uU(3,"\n                        "),e.qZA()}if(2&n){const t=e.oxw().$implicit,r=e.oxw();e.Q6J("ngModel",t.faculty_id)("disabled",!0),e.xp6(2),e.Q6J("ngForOf",r.faculties)}}function w(n,o){if(1&n&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.name)}}function q(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"select",8),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().$implicit.faculty_id=i}),e._uU(1,"\n                            "),e.YNc(2,w,2,2,"option",9),e.ALo(3,"orderBy"),e._uU(4,"\n                        "),e.qZA()}if(2&n){const t=e.oxw().$implicit,r=e.oxw();e.Q6J("ngModel",t.faculty_id),e.xp6(2),e.Q6J("ngForOf",e.xi3(3,2,r.faculties,r.order))}}function N(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).edit_career()}),e._uU(1,"\n                                "),e._UZ(2,"i",28),e._uU(3,"\n                            "),e.qZA()}}function E(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().update_career(i)}),e._uU(1,"\n                                "),e._UZ(2,"i",29),e._uU(3,"\n                            "),e.qZA()}}function Q(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).edit_career()}),e._uU(1,"\n                                "),e._UZ(2,"i",31),e._uU(3,"\n                            "),e.qZA()}}function F(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().delete_career(i)}),e._uU(1,"\n                                "),e._UZ(2,"i",33),e._uU(3,"\n                            "),e.qZA()}}function Y(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"tr",15),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw().select_career(c)}),e._uU(1,"\n                    "),e.TgZ(2,"th",16),e._uU(3),e.qZA(),e._uU(4,"\n                    "),e.TgZ(5,"td"),e._uU(6,"\n                        "),e.YNc(7,x,2,1,"span",17),e._uU(8,"\n                        "),e.YNc(9,b,1,1,"input",18),e._uU(10,"\n                    "),e.qZA(),e._uU(11,"\n                    "),e.TgZ(12,"td"),e._uU(13,"\n                        "),e.YNc(14,M,4,3,"select",19),e._uU(15,"\n                        "),e.YNc(16,y,5,5,"select",20),e._uU(17,"\n                    "),e.qZA(),e._uU(18,"\n                    "),e.TgZ(19,"td"),e._uU(20,"\n                        "),e.YNc(21,v,4,3,"select",19),e._uU(22,"\n                        "),e.YNc(23,q,5,5,"select",20),e._uU(24,"\n                    "),e.qZA(),e._uU(25,"\n                    "),e.TgZ(26,"td"),e._uU(27,"\n                        "),e.TgZ(28,"div",10),e._uU(29,"\n                            "),e.YNc(30,N,4,0,"button",21),e._uU(31,"\n                            "),e.YNc(32,E,4,0,"button",22),e._uU(33,"\n                            "),e.YNc(34,Q,4,0,"button",23),e._uU(35,"\n                            "),e.YNc(36,F,4,0,"button",24),e._uU(37,"\n                        "),e.qZA(),e._uU(38,"\n                    "),e.qZA(),e._uU(39,"\n                "),e.qZA()}if(2&n){const t=o.$implicit,r=e.oxw();e.xp6(3),e.hij("\n                        ",t.id,"\n                    "),e.xp6(4),e.Q6J("ngIf",r.selected_career!==t||r.selected_career==t&&!r.isEditing),e.xp6(2),e.Q6J("ngIf",r.selected_career==t&&r.isEditing),e.xp6(5),e.Q6J("ngIf",r.selected_career!==t||r.selected_career==t&&!r.isEditing),e.xp6(2),e.Q6J("ngIf",r.selected_career==t&&r.isEditing),e.xp6(5),e.Q6J("ngIf",r.selected_career!==t||r.selected_career==t&&!r.isEditing),e.xp6(2),e.Q6J("ngIf",r.selected_career==t&&r.isEditing),e.xp6(7),e.Q6J("ngIf",!r.isEditing||r.selected_career!=t),e.xp6(2),e.Q6J("ngIf",r.selected_career==t&&r.isEditing),e.xp6(2),e.Q6J("ngIf",r.selected_career==t&&r.isEditing),e.xp6(2),e.Q6J("ngIf",!r.isEditing||r.selected_career!=t)}}function I(n,o){if(1&n&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.name)}}function $(n,o){if(1&n&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.name)}}let k=(()=>{class n{constructor(t,r,i,c,p){this.spinner=t,this.toastr=r,this.careerDataService=i,this.facultyDataService=c,this.directorDataService=p,this.careers=[],this.new_career={name:"",director:1,faculty:1},this.selected_career={},this.directors=[],this.faculties=[],this.isEditing=!1,this.order="id"}ngOnInit(){this.refresh()}refresh(){this.new_career.name="",this.new_career.director=1,this.new_career.faculty=1,this.isEditing=!1,this.get_careers(),this.get_directors(),this.get_faculties()}select_career(t){this.selected_career=t}get_careers(){var t=this;return(0,f.Z)(function*(){t.spinner.show(),t.careers=[],t.careerDataService.get().then(r=>{t.spinner.hide(),t.careers=r}).catch(r=>{console.log(r)})})()}create_career(){if(this.spinner.show(),""==this.new_career.name)return this.spinner.hide(),void this.toastr.error("El nombre no puede estar vacio.","Error");this.careerDataService.create(this.new_career.name,this.new_career.director,this.new_career.faculty).then(t=>{this.spinner.hide(),this.toastr.success("La carrera ha sido creada correctamente.","Carrera Creada"),this.refresh()}).catch(t=>{console.log(t)})}update_career(t){if(this.spinner.show(),""==t.name)return this.spinner.hide(),void this.toastr.error("El nombre no puede estar vacio.","Error");this.careerDataService.update(t.id,t.name,t.director_id,t.faculty_id).then(r=>{this.spinner.hide(),this.toastr.success("La carrera ha sido actualizada correctamente.","Carrera Actualizada"),this.refresh()}).catch(r=>{console.log(r)})}delete_career(t){this.spinner.show(),this.careerDataService.delete(t.id).then(r=>{this.spinner.hide(),this.toastr.success("La carrera ha sido eliminada correctamente.","Carrera Eliminada"),this.refresh()}).catch(r=>{console.log(r)})}edit_career(){this.isEditing=!this.isEditing}get_directors(){this.spinner.show(),this.directors=[],this.directorDataService.get().then(t=>{this.spinner.hide(),this.directors=t}).catch(t=>{console.log(t)})}get_faculties(){this.spinner.show(),this.directors=[],this.facultyDataService.get().then(t=>{this.spinner.hide(),this.faculties=t}).catch(t=>{console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.t2),e.Y36(m._W),e.Y36(C.o),e.Y36(U.E),e.Y36(T))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-careers-page"]],decls:80,vars:15,consts:[[1,"display-5","mb-5"],[1,"row","d-flex","mb-5"],[1,"col-12","table-responsive"],[1,"table","table-hover","table-bordered"],[1,"table-light"],["scope","col"],[3,"click",4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-select",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"d-grid","gap-2","d-md-block"],["type","button",1,"btn","btn-success",3,"click"],[1,"fas","fa-plus"],["type","button",1,"btn","btn-primary","mb-5",3,"click"],[1,"fas","fa-redo"],[3,"click"],["scope","row"],[4,"ngIf"],["type","text","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],["class","form-select",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["class","form-select",3,"ngModel","ngModelChange",4,"ngIf"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button","class","btn btn-warning",3,"click",4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],[1,"form-select",3,"ngModel","disabled","ngModelChange"],[3,"ngValue"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-edit"],[1,"fas","fa-save"],["type","button",1,"btn","btn-warning",3,"click"],[1,"fas","fa-ban"],["type","button",1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash"]],template:function(t,r){1&t&&(e.TgZ(0,"h1",0),e._uU(1,"Carreras"),e.qZA(),e._uU(2,"\n"),e.TgZ(3,"div",1),e._uU(4,"\n    "),e.TgZ(5,"div",2),e._uU(6,"\n        "),e.TgZ(7,"table",3),e._uU(8,"\n            "),e.TgZ(9,"thead",4),e._uU(10,"\n                "),e.TgZ(11,"tr"),e._uU(12,"\n                    "),e.TgZ(13,"th",5),e._uU(14,"ID"),e.qZA(),e._uU(15,"\n                    "),e.TgZ(16,"th",5),e._uU(17,"Nombre"),e.qZA(),e._uU(18,"\n                    "),e.TgZ(19,"th",5),e._uU(20,"Director de Carrera"),e.qZA(),e._uU(21,"\n                    "),e.TgZ(22,"th",5),e._uU(23,"Facultad"),e.qZA(),e._uU(24,"\n                    "),e.TgZ(25,"th",5),e._uU(26,"Acciones"),e.qZA(),e._uU(27,"\n                "),e.qZA(),e._uU(28,"\n            "),e.qZA(),e._uU(29,"\n            "),e.TgZ(30,"tbody"),e._uU(31,"\n                "),e.YNc(32,Y,40,11,"tr",6),e.ALo(33,"orderBy"),e._uU(34,"\n                "),e.TgZ(35,"tr"),e._uU(36,"\n                    "),e._UZ(37,"td"),e._uU(38,"\n                    "),e.TgZ(39,"td"),e.TgZ(40,"input",7),e.NdJ("ngModelChange",function(c){return r.new_career.name=c}),e.qZA(),e.qZA(),e._uU(41,"\n                    "),e.TgZ(42,"td"),e._uU(43,"\n                        "),e.TgZ(44,"select",8),e.NdJ("ngModelChange",function(c){return r.new_career.director=c}),e._uU(45,"\n                            "),e.YNc(46,I,2,2,"option",9),e.ALo(47,"orderBy"),e._uU(48,"\n                        "),e.qZA(),e._uU(49,"\n                    "),e.qZA(),e._uU(50,"\n                    "),e.TgZ(51,"td"),e._uU(52,"\n                        "),e.TgZ(53,"select",8),e.NdJ("ngModelChange",function(c){return r.new_career.faculty=c}),e._uU(54,"\n                            "),e.YNc(55,$,2,2,"option",9),e.ALo(56,"orderBy"),e._uU(57,"\n                        "),e.qZA(),e._uU(58,"\n                    "),e.qZA(),e._uU(59,"\n                    "),e.TgZ(60,"td"),e._uU(61,"\n                        "),e.TgZ(62,"div",10),e._uU(63,"\n                            "),e.TgZ(64,"button",11),e.NdJ("click",function(){return r.create_career()}),e._uU(65,"\n                                "),e._UZ(66,"i",12),e._uU(67,"\n                            "),e.qZA(),e._uU(68,"\n                        "),e.qZA(),e._uU(69,"\n                    "),e.qZA(),e._uU(70,"\n                "),e.qZA(),e._uU(71,"\n            "),e.qZA(),e._uU(72,"\n        "),e.qZA(),e._uU(73,"\n    "),e.qZA(),e._uU(74,"\n"),e.qZA(),e._uU(75,"\n"),e.TgZ(76,"button",13),e.NdJ("click",function(){return r.refresh()}),e._uU(77,"\n    "),e._UZ(78,"i",14),e._uU(79," Refrescar\n"),e.qZA()),2&t&&(e.xp6(32),e.Q6J("ngForOf",e.xi3(33,6,r.careers,r.order)),e.xp6(8),e.Q6J("ngModel",r.new_career.name),e.xp6(4),e.Q6J("ngModel",r.new_career.director),e.xp6(2),e.Q6J("ngForOf",e.xi3(47,9,r.directors,r.order)),e.xp6(7),e.Q6J("ngModel",r.new_career.faculty),e.xp6(2),e.Q6J("ngForOf",e.xi3(56,12,r.faculties,r.order)))},directives:[_.sg,_.O5,s.Fj,s.JJ,s.On,s.EJ,s.YN,s.Kr],pipes:[g.T],styles:[""]}),n})();var d=a(1196);const O=[{path:"",component:k}];let S=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[d.Bz.forChild(O)],d.Bz]}),n})(),D=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[],imports:[[_.ez,S,s.u5,g.l]]}),n})()}}]);