"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[402],{402:(F,a,u)=>{u.r(a),u.d(a,{SubjectsPageModule:()=>Q});var r=u(9808),e=u(1223),d=u(7562),p=u(2290),b=u(9444),m=u(5362),_=u(2382),l=u(4040);function h(c,s){if(1&c&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&c){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.name)}}function f(c,s){if(1&c){const t=e.EpF();e.TgZ(0,"input",7),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().$implicit.name=i}),e.qZA()}if(2&c){const t=e.oxw().$implicit;e.Q6J("ngModel",t.name)}}function j(c,s){if(1&c&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&c){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.code)}}function Z(c,s){if(1&c){const t=e.EpF();e.TgZ(0,"input",7),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().$implicit.code=i}),e.qZA()}if(2&c){const t=e.oxw().$implicit;e.Q6J("ngModel",t.code)}}function U(c,s){if(1&c&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&c){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.credits)}}function T(c,s){if(1&c){const t=e.EpF();e.TgZ(0,"input",26),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().$implicit.credits=i}),e.qZA()}if(2&c){const t=e.oxw().$implicit;e.Q6J("ngModel",t.credits)}}function C(c,s){if(1&c&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&c){const t=s.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.name)}}function x(c,s){if(1&c){const t=e.EpF();e.TgZ(0,"select",27),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().$implicit.career_id=i}),e._uU(1,"\n                            "),e.YNc(2,C,2,2,"option",9),e._uU(3,"\n                        "),e.qZA()}if(2&c){const t=e.oxw().$implicit,n=e.oxw();e.Q6J("ngModel",t.career_id)("disabled",!0),e.xp6(2),e.Q6J("ngForOf",n.careers)}}function M(c,s){if(1&c&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&c){const t=s.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.name)}}function A(c,s){if(1&c){const t=e.EpF();e.TgZ(0,"select",8),e.NdJ("ngModelChange",function(i){return e.CHM(t),e.oxw().$implicit.career_id=i}),e._uU(1,"\n                            "),e.YNc(2,M,2,2,"option",9),e.ALo(3,"orderBy"),e._uU(4,"\n                        "),e.qZA()}if(2&c){const t=e.oxw().$implicit,n=e.oxw();e.Q6J("ngModel",t.career_id),e.xp6(2),e.Q6J("ngForOf",e.xi3(3,2,n.careers,n.order))}}function S(c,s){if(1&c){const t=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).edit_subject()}),e._uU(1,"\n                                "),e._UZ(2,"i",30),e._uU(3,"\n                            "),e.qZA()}}function J(c,s){if(1&c){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().update_subject(i)}),e._uU(1,"\n                                "),e._UZ(2,"i",31),e._uU(3,"\n                            "),e.qZA()}}function w(c,s){if(1&c){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).edit_subject()}),e._uU(1,"\n                                "),e._UZ(2,"i",33),e._uU(3,"\n                            "),e.qZA()}}function q(c,s){if(1&c){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.oxw().delete_subject(i)}),e._uU(1,"\n                                "),e._UZ(2,"i",35),e._uU(3,"\n                            "),e.qZA()}}function P(c,s){if(1&c){const t=e.EpF();e.TgZ(0,"tr",15),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.oxw().select_subject(o)}),e._uU(1,"\n                    "),e.TgZ(2,"th",16),e._uU(3),e.qZA(),e._uU(4,"\n                    "),e.TgZ(5,"td"),e._uU(6,"\n                        "),e.YNc(7,h,2,1,"span",17),e._uU(8,"\n                        "),e.YNc(9,f,1,1,"input",18),e._uU(10,"\n                    "),e.qZA(),e._uU(11,"\n                    "),e.TgZ(12,"td"),e._uU(13,"\n                        "),e.YNc(14,j,2,1,"span",17),e._uU(15,"\n                        "),e.YNc(16,Z,1,1,"input",18),e._uU(17,"\n                    "),e.qZA(),e._uU(18,"\n                    "),e.TgZ(19,"td"),e._uU(20,"\n                        "),e.YNc(21,U,2,1,"span",17),e._uU(22,"\n                        "),e.YNc(23,T,1,1,"input",19),e._uU(24,"\n                    "),e.qZA(),e._uU(25,"\n                    "),e.TgZ(26,"td"),e._uU(27,"\n                        "),e.YNc(28,x,4,3,"select",20),e._uU(29,"\n                        "),e.YNc(30,A,5,5,"select",21),e._uU(31,"\n                    "),e.qZA(),e._uU(32,"\n                    "),e.TgZ(33,"td"),e._uU(34,"\n                        "),e.TgZ(35,"div",10),e._uU(36,"\n                            "),e.YNc(37,S,4,0,"button",22),e._uU(38,"\n                            "),e.YNc(39,J,4,0,"button",23),e._uU(40,"\n                            "),e.YNc(41,w,4,0,"button",24),e._uU(42,"\n                            "),e.YNc(43,q,4,0,"button",25),e._uU(44,"\n                        "),e.qZA(),e._uU(45,"\n                    "),e.qZA(),e._uU(46,"\n                "),e.qZA()}if(2&c){const t=s.$implicit,n=e.oxw();e.xp6(3),e.hij("\n                        ",t.id,"\n                    "),e.xp6(4),e.Q6J("ngIf",n.selected_subject!==t||n.selected_subject==t&&!n.isEditing),e.xp6(2),e.Q6J("ngIf",n.selected_subject==t&&n.isEditing),e.xp6(5),e.Q6J("ngIf",n.selected_subject!==t||n.selected_subject==t&&!n.isEditing),e.xp6(2),e.Q6J("ngIf",n.selected_subject==t&&n.isEditing),e.xp6(5),e.Q6J("ngIf",n.selected_subject!==t||n.selected_subject==t&&!n.isEditing),e.xp6(2),e.Q6J("ngIf",n.selected_subject==t&&n.isEditing),e.xp6(5),e.Q6J("ngIf",n.selected_subject!==t||n.selected_subject==t&&!n.isEditing),e.xp6(2),e.Q6J("ngIf",n.selected_subject==t&&n.isEditing),e.xp6(7),e.Q6J("ngIf",!n.isEditing||n.selected_subject!=t),e.xp6(2),e.Q6J("ngIf",n.selected_subject==t&&n.isEditing),e.xp6(2),e.Q6J("ngIf",n.selected_subject==t&&n.isEditing),e.xp6(2),e.Q6J("ngIf",!n.isEditing||n.selected_subject!=t)}}function N(c,s){if(1&c&&(e.TgZ(0,"option",28),e._uU(1),e.qZA()),2&c){const t=s.$implicit;e.Q6J("ngValue",t.id),e.xp6(1),e.Oqu(t.name)}}let E=(()=>{class c{constructor(t,n,i,o){this.spinner=t,this.toastr=n,this.subjectDataService=i,this.careerDataService=o,this.subjects=[],this.new_subject={name:"",code:"",credits:"",career:1},this.selected_subject={},this.careers=[],this.isEditing=!1,this.order="id"}ngOnInit(){this.refresh()}refresh(){this.new_subject.name="",this.new_subject.code="",this.new_subject.credits="",this.new_subject.career=1,this.isEditing=!1,this.get_careers(),this.get_subjects()}select_subject(t){this.selected_subject=t}get_subjects(){this.spinner.show(),this.subjects=[],this.subjectDataService.get().then(t=>{this.spinner.hide(),this.subjects=t}).catch(t=>{console.log(t)})}create_subject(){if(this.spinner.show(),""==this.new_subject.name||""==this.new_subject.code||""==this.new_subject.credits)return this.spinner.hide(),void this.toastr.error("El nombre, c\xf3digo y/o cr\xe9ditos no pueden estar vacios.","Error");this.subjectDataService.create(this.new_subject.name,this.new_subject.code,this.new_subject.credits,this.new_subject.career).then(t=>{this.spinner.hide(),this.toastr.success("La materia ha sido creada correctamente.","Materia Creada"),this.refresh()}).catch(t=>{console.log(t)})}update_subject(t){if(this.spinner.show(),""==t.name||""==t.code||""==t.credits)return this.spinner.hide(),void this.toastr.error("El nombre, c\xf3digo y/o cr\xe9ditos no pueden estar vacios.","Error");this.subjectDataService.update(t.id,t.name,t.code,t.credits,t.career_id).then(n=>{this.spinner.hide(),this.toastr.success("La materia ha sido actualizada correctamente.","Materia Actualizada"),this.refresh()}).catch(n=>{console.log(n)})}delete_subject(t){this.spinner.show(),this.subjectDataService.delete(t.id).then(n=>{this.spinner.hide(),this.toastr.success("La materia ha sido eliminada correctamente.","Materia Eliminada"),this.refresh()}).catch(n=>{console.log(n)})}edit_subject(){this.isEditing=!this.isEditing}get_careers(){this.spinner.show(),this.careers=[],this.careerDataService.get().then(t=>{this.spinner.hide(),this.careers=t}).catch(t=>{console.log(t)})}}return c.\u0275fac=function(t){return new(t||c)(e.Y36(d.t2),e.Y36(p._W),e.Y36(b._),e.Y36(m.o))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-subjects-page"]],decls:80,vars:12,consts:[[1,"display-5","mb-5"],[1,"row","d-flex","mb-5"],[1,"col-12","table-responsive"],[1,"table","table-hover","table-bordered"],[1,"table-light"],["scope","col"],[3,"click",4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-select",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"d-grid","gap-2","d-md-block"],["type","button",1,"btn","btn-success",3,"click"],[1,"fas","fa-plus"],["type","button",1,"btn","btn-primary","mb-5",3,"click"],[1,"fas","fa-redo"],[3,"click"],["scope","row"],[4,"ngIf"],["type","text","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],["type","number","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],["class","form-select",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["class","form-select",3,"ngModel","ngModelChange",4,"ngIf"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["type","button","class","btn btn-warning",3,"click",4,"ngIf"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-select",3,"ngModel","disabled","ngModelChange"],[3,"ngValue"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fas","fa-edit"],[1,"fas","fa-save"],["type","button",1,"btn","btn-warning",3,"click"],[1,"fas","fa-ban"],["type","button",1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash"]],template:function(t,n){1&t&&(e.TgZ(0,"h1",0),e._uU(1,"Materias"),e.qZA(),e._uU(2,"\n"),e.TgZ(3,"div",1),e._uU(4,"\n    "),e.TgZ(5,"div",2),e._uU(6,"\n        "),e.TgZ(7,"table",3),e._uU(8,"\n            "),e.TgZ(9,"thead",4),e._uU(10,"\n                "),e.TgZ(11,"tr"),e._uU(12,"\n                    "),e.TgZ(13,"th",5),e._uU(14,"ID"),e.qZA(),e._uU(15,"\n                    "),e.TgZ(16,"th",5),e._uU(17,"Nombre"),e.qZA(),e._uU(18,"\n                    "),e.TgZ(19,"th",5),e._uU(20,"C\xf3digo"),e.qZA(),e._uU(21,"\n                    "),e.TgZ(22,"th",5),e._uU(23,"Cr\xe9ditos"),e.qZA(),e._uU(24,"\n                    "),e.TgZ(25,"th",5),e._uU(26,"Carrera"),e.qZA(),e._uU(27,"\n                    "),e.TgZ(28,"th",5),e._uU(29,"Acciones"),e.qZA(),e._uU(30,"\n                "),e.qZA(),e._uU(31,"\n            "),e.qZA(),e._uU(32,"\n            "),e.TgZ(33,"tbody"),e._uU(34,"\n                "),e.YNc(35,P,47,13,"tr",6),e.ALo(36,"orderBy"),e._uU(37,"\n                "),e.TgZ(38,"tr"),e._uU(39,"\n                    "),e._UZ(40,"td"),e._uU(41,"\n                    "),e.TgZ(42,"td"),e.TgZ(43,"input",7),e.NdJ("ngModelChange",function(o){return n.new_subject.name=o}),e.qZA(),e.qZA(),e._uU(44,"\n                    "),e.TgZ(45,"td"),e.TgZ(46,"input",7),e.NdJ("ngModelChange",function(o){return n.new_subject.code=o}),e.qZA(),e.qZA(),e._uU(47,"\n                    "),e.TgZ(48,"td"),e.TgZ(49,"input",7),e.NdJ("ngModelChange",function(o){return n.new_subject.credits=o}),e.qZA(),e.qZA(),e._uU(50,"\n                    "),e.TgZ(51,"td"),e._uU(52,"\n                        "),e.TgZ(53,"select",8),e.NdJ("ngModelChange",function(o){return n.new_subject.career=o}),e._uU(54,"\n                            "),e.YNc(55,N,2,2,"option",9),e.ALo(56,"orderBy"),e._uU(57,"\n                        "),e.qZA(),e._uU(58,"\n                    "),e.qZA(),e._uU(59,"\n                    "),e.TgZ(60,"td"),e._uU(61,"\n                        "),e.TgZ(62,"div",10),e._uU(63,"\n                            "),e.TgZ(64,"button",11),e.NdJ("click",function(){return n.create_subject()}),e._uU(65,"\n                                "),e._UZ(66,"i",12),e._uU(67,"\n                            "),e.qZA(),e._uU(68,"\n                        "),e.qZA(),e._uU(69,"\n                    "),e.qZA(),e._uU(70,"\n                "),e.qZA(),e._uU(71,"\n            "),e.qZA(),e._uU(72,"\n        "),e.qZA(),e._uU(73,"\n    "),e.qZA(),e._uU(74,"\n"),e.qZA(),e._uU(75,"\n"),e.TgZ(76,"button",13),e.NdJ("click",function(){return n.refresh()}),e._uU(77,"\n    "),e._UZ(78,"i",14),e._uU(79," Refrescar\n"),e.qZA()),2&t&&(e.xp6(35),e.Q6J("ngForOf",e.xi3(36,6,n.subjects,n.order)),e.xp6(8),e.Q6J("ngModel",n.new_subject.name),e.xp6(3),e.Q6J("ngModel",n.new_subject.code),e.xp6(3),e.Q6J("ngModel",n.new_subject.credits),e.xp6(4),e.Q6J("ngModel",n.new_subject.career),e.xp6(2),e.Q6J("ngForOf",e.xi3(56,9,n.careers,n.order)))},directives:[r.sg,r.O5,_.Fj,_.JJ,_.On,_.wV,_.EJ,_.YN,_.Kr],pipes:[l.T],styles:[""]}),c})();var g=u(1196);const v=[{path:"",component:E}];let y=(()=>{class c{}return c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({imports:[[g.Bz.forChild(v)],g.Bz]}),c})(),Q=(()=>{class c{}return c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({providers:[],imports:[[r.ez,y,_.u5,l.l]]}),c})()}}]);